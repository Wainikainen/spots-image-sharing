!function(){"use strict";const e={formSelector:".modal__form",inputSelector:".modal__form-input",submitButtonSelector:".modal__form-save",inactiveButtonClass:"modal__form-save_disabled",inputErrorClass:"modal__form-error",errorClass:"modal__form-error_visible"},t=(e,t,r)=>{const o=e.querySelector(`#${t.id}-error`);o.textContent="",o.classList.remove(r.errorClass)},r=(e,t,r)=>{(e=>e.some(e=>!e.validity.valid))(e)?o(t,r):(t.disabled=!1,t.classList.remove(r.inactiveButtonClass))},o=(e,t)=>{e.disabled=!0,e.classList.add(t.inactiveButtonClass)},a=(e,r,o)=>{r.forEach(r=>{t(e,r,o)})},n=e=>{document.querySelectorAll(e.formSelector).forEach(o=>{((e,o)=>{const a=Array.from(e.querySelectorAll(o.inputSelector)),n=e.querySelector(o.submitButtonSelector);r(a,n,o),a.forEach(s=>{s.addEventListener("input",function(){((e,r,o)=>{r.validity.valid?t(e,r,o):((e,t,r,o)=>{const a=e.querySelector(`#${t.id}-error`);a.textContent=r,a.classList.add(o.errorClass)})(e,r,r.validationMessage,o)})(e,s,o),r(a,n,o)})})})(o,e)})};n(e);const s=new class{constructor({baseUrl:e,headers:t}){this._baseUrl=e,this._headers=t}getUserInfo(){return fetch(`${this._baseUrl}/users/me`,{headers:this._headers}).then(this._handleServerResponse).catch(console.error)}getInitialCards(){return fetch(`${this._baseUrl}/cards`,{headers:this._headers}).then(this._handleServerResponse).catch(console.error)}getSiteInfo(){return Promise.all([this.getInitialCards(),this.getUserInfo()]).then(function([e,t]){return{userInfo:t,cards:e}}).catch(console.error)}addLike(e){return fetch(`${this._baseUrl}/cards/${e}/likes`,{method:"PUT",headers:this._headers}).then(this._handleServerResponse).catch(console.error)}removeLike(e){return fetch(`${this._baseUrl}/cards/${e}/likes`,{method:"DELETE",headers:this._headers}).then(this._handleServerResponse).catch(console.error)}editUserInfo({name:e,about:t}){return fetch(`${this._baseUrl}/users/me`,{method:"PATCH",headers:this._headers,"Content-Type":"application/json",body:JSON.stringify({name:e,about:t})}).then(this._handleServerResponse).catch(console.error)}editUserAvatar({avatar:e}){return fetch(`${this._baseUrl}/users/me/avatar`,{method:"PATCH",headers:this._headers,"Content-Type":"application/json",body:JSON.stringify({avatar:e})}).then(this._handleServerResponse).catch(console.error)}createCard({name:e,link:t}){return fetch(`${this._baseUrl}/cards`,{method:"POST",headers:this._headers,"Content-Type":"application/json",body:JSON.stringify({name:e,link:t})}).then(this._handleServerResponse).catch(console.error)}deleteCard(e){return fetch(`${this._baseUrl}/cards/${e}`,{method:"DELETE",headers:this._headers}).then(this._handleServerResponse).catch(console.error)}_handleServerResponse(e){return e.ok?e.json():Promise.reject(`Error: ${e.status}`)}}({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"75e9bfca-7947-47ee-85a7-3709ecf46b79","Content-Type":"application/json"}});s.getSiteInfo().then(({userInfo:e,cards:t})=>{p.textContent=e.name,y.textContent=e.about,c.src=e.avatar,t.forEach(e=>{const t=G(e);L.prepend(t)})}).catch(console.error);const c=document.querySelector(".profile__pic"),l=document.querySelector(".profile__edit-button"),i=document.querySelector(".profile__post-button"),d=document.querySelector("#edit-profile-modal"),u=document.querySelector("#new-post-modal"),m=d.querySelector(".modal__exit"),h=u.querySelector(".modal__exit"),_=d.querySelector(".modal__form"),v=d.querySelector("#profile-name-input"),f=d.querySelector("#profile-description-input"),p=document.querySelector(".profile__name"),y=document.querySelector(".profile__description"),S=u.querySelector(".modal__form"),b=u.querySelector("#image-link-input"),E=u.querySelector("#caption-link-input"),q=document.querySelector("#card-template"),L=document.querySelector(".cards__list"),k=document.querySelector("#modal-image"),C=k.querySelector(".modal__image"),g=k.querySelector(".modal__image-title"),U=k.querySelector(".modal__image-close"),I=S.querySelector(".modal__form-save"),$=document.querySelectorAll(".modal"),x=document.getElementById("delete-modal"),B=document.getElementById("cancel-button"),R=document.getElementById("delete-form"),A=document.getElementById("avatar-modal"),T=document.querySelector(".profile__pic-btn"),D=document.getElementById("avatar-form"),j=document.getElementById("avatar-link"),w=A.querySelector(".modal__exit"),P=document.getElementById("avatar-file-input"),N=D.querySelector(".modal__file-button"),O=D.querySelector(".modal__form-save"),J=e=>{e.classList.add("modal_is-opened"),document.addEventListener("keydown",z)},H=e=>{e.classList.remove("modal_is-opened"),document.removeEventListener("keydown",z)},z=e=>{if("Escape"===e.key){const e=document.querySelector(".modal_is-opened");e&&H(e)}};let F,M;$.forEach(e=>{e.addEventListener("mousedown",t=>{if(t.target===e){H(e);const t=e.querySelector("form");t&&t.reset()}})}),U.addEventListener("click",()=>H(k));const G=e=>{const t=q.content.cloneNode(!0),r=t.querySelector(".card"),o=t.querySelector(".card__title"),a=t.querySelector(".card__image"),n=t.querySelector(".card__like-button"),c=t.querySelector(".card__delete-button");return a.src=e.link,a.alt=e.name,o.textContent=e.name,e.isLiked?n.classList.add("card__like-button_is-active"):n.classList.remove("card__like-button_is-active"),n.addEventListener("click",()=>{n.classList.contains("card__like-button_is-active")?s.removeLike(e._id).then(()=>{n.classList.remove("card__like-button_is-active")}).catch(console.error):s.addLike(e._id).then(()=>{n.classList.add("card__like-button_is-active")}).catch(console.error)}),c.addEventListener("click",()=>{F=r,M=e._id,J(x)}),R.addEventListener("submit",e=>{e.preventDefault(),s.deleteCard(M).then(()=>{F.remove(),H(x)}).catch(console.error)}),B.addEventListener("click",()=>H(x)),a.addEventListener("click",()=>{C.src=e.link,C.alt=e.name,g.textContent=e.name,J(k)}),t};l.addEventListener("click",()=>{a(_,[v,f],e),J(d),v.value=p.textContent,f.value=y.textContent}),i.addEventListener("click",()=>{J(u),a(S,[E,b],e)}),m.addEventListener("click",()=>{H(d),_.reset()}),h.addEventListener("click",()=>{H(u),S.reset()}),T.addEventListener("click",()=>{J(A),a(D,[j],e)}),w.addEventListener("click",()=>{H(A),D.reset()}),N.addEventListener("click",()=>{P.click()}),D.addEventListener("submit",e=>{e.preventDefault(),O.disabled=!0;const t=P.files[0],r=j.value;if(t){const e=new FileReader;e.onload=()=>{const t=e.result;s.editUserAvatar({avatar:t}).then(e=>{c.src=e.avatar,H(A),D.reset()}).catch(console.error)},e.readAsDataURL(t)}else r&&s.editUserAvatar({avatar:r}).then(e=>{c.src=e.avatar,H(A),D.reset(),O.disabled=!1}).catch(console.error)}),_.addEventListener("submit",e=>{e.preventDefault();const t=v.value,r=f.value;s.editUserInfo({name:t,about:r}).then(e=>{p.textContent=e.name,y.textContent=e.about,H(d),_.reset()}).catch(console.error)}),S.addEventListener("submit",t=>{t.preventDefault();const r=E.value,a=b.value;s.createCard({name:r,link:a}).then(t=>{const r=G(t);L.prepend(r),S.reset(),o(I,e),H(u)}).catch(console.error)}),n(e)}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RCxpQkFBaUIsU0FoQkZnSCxJQUMvQkEsRUFBSUMsaUJBQ0osTUFBTW5GLEVBQU9nQyxFQUFxQm9ELE1BQzVCbkYsRUFBUWdDLEVBQTRCbUQsTUFFMUM3RyxFQUNHd0IsYUFBYSxDQUFFQyxPQUFNQyxVQUNyQmpCLEtBQU1xRixJQUNMckQsRUFBY3BFLFlBQWN5SCxFQUFLckUsS0FDakNpQixFQUFxQnJFLFlBQWN5SCxFQUFLcEUsTUFDeEMwRCxFQUFXaEMsR0FDWEksRUFBa0JxQyxVQUVuQmxGLE1BQU1DLFFBQVFDLFNBcUJuQjhDLEVBQWNoRSxpQkFBaUIsU0FoQkVnSCxJQUMvQkEsRUFBSUMsaUJBQ0osTUFBTW5GLEVBQU9vQyxFQUFnQmdELE1BQ3ZCNUUsRUFBTzJCLEVBQWFpRCxNQUMxQjdHLEVBQ0dnQyxXQUFXLENBQUVQLE9BQU1RLFNBQ25CeEIsS0FBTThHLElBQ0wsTUFBTXpFLEVBQVlDLEVBQWV3RSxHQUNqQ3ZFLEVBQWNDLFFBQVFILEdBQ3RCYSxFQUFja0MsUUFDZDlHLEVBQWNvRixFQUFpQjVHLEdBQy9CNkgsRUFBVy9CLEtBRVoxQyxNQUFNQyxRQUFRQyxTQUtuQnhCLEVBQWlCOUIsRSIsInNvdXJjZXMiOlsid2VicGFjazovL3Nwb3RzX3Byb2plY3Q0Ly4vc3JjL3NjcmlwdHMvdmFsaWRhdGlvbi5qcyIsIndlYnBhY2s6Ly9zcG90c19wcm9qZWN0NC8uL3NyYy9wYWdlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9zcG90c19wcm9qZWN0NC8uL3NyYy9zY3JpcHRzL2FwaS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3Qgc2V0dGluZ3MgPSB7XG4gIGZvcm1TZWxlY3RvcjogXCIubW9kYWxfX2Zvcm1cIixcbiAgaW5wdXRTZWxlY3RvcjogXCIubW9kYWxfX2Zvcm0taW5wdXRcIixcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLm1vZGFsX19mb3JtLXNhdmVcIixcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJtb2RhbF9fZm9ybS1zYXZlX2Rpc2FibGVkXCIsXG4gIGlucHV0RXJyb3JDbGFzczogXCJtb2RhbF9fZm9ybS1lcnJvclwiLFxuICBlcnJvckNsYXNzOiBcIm1vZGFsX19mb3JtLWVycm9yX3Zpc2libGVcIixcbn07XG5cbmNvbnN0IHNob3dJbnB1dEVycm9yID0gKGZvcm1FbCwgaW5wdXRFbCwgZXJyb3JNc2csIHgpID0+IHtcbiAgY29uc3QgZXJyb3JNc2dFbCA9IGZvcm1FbC5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dEVsLmlkfS1lcnJvcmApO1xuICBlcnJvck1zZ0VsLnRleHRDb250ZW50ID0gZXJyb3JNc2c7XG4gIGVycm9yTXNnRWwuY2xhc3NMaXN0LmFkZCh4LmVycm9yQ2xhc3MpO1xufTtcblxuY29uc3QgaGlkZUlucHV0RXJyb3IgPSAoZm9ybUVsLCBpbnB1dEVsLCB4KSA9PiB7XG4gIGNvbnN0IGVycm9yTXNnRWwgPSBmb3JtRWwucXVlcnlTZWxlY3RvcihgIyR7aW5wdXRFbC5pZH0tZXJyb3JgKTtcbiAgZXJyb3JNc2dFbC50ZXh0Q29udGVudCA9IFwiXCI7XG4gIGVycm9yTXNnRWwuY2xhc3NMaXN0LnJlbW92ZSh4LmVycm9yQ2xhc3MpO1xufTtcblxuY29uc3QgY2hlY2tJbnB1dFZhbGlkaXR5ID0gKGZvcm1FbCwgaW5wdXRFbCwgeCkgPT4ge1xuICBpZiAoIWlucHV0RWwudmFsaWRpdHkudmFsaWQpIHtcbiAgICBzaG93SW5wdXRFcnJvcihmb3JtRWwsIGlucHV0RWwsIGlucHV0RWwudmFsaWRhdGlvbk1lc3NhZ2UsIHgpO1xuICB9IGVsc2Uge1xuICAgIGhpZGVJbnB1dEVycm9yKGZvcm1FbCwgaW5wdXRFbCwgeCk7XG4gIH1cbn07XG5cbmNvbnN0IGhhc0ludmFsaWRJbnB1dCA9IChpbnB1dExpc3QpID0+IHtcbiAgcmV0dXJuIGlucHV0TGlzdC5zb21lKChpbnB1dEVsKSA9PiB7XG4gICAgcmV0dXJuICFpbnB1dEVsLnZhbGlkaXR5LnZhbGlkO1xuICB9KTtcbn07XG5cbmNvbnN0IHRvZ2dsZUJ1dHRvblN0YXRlID0gKGlucHV0TGlzdCwgYnV0dG9uRWwsIHgpID0+IHtcbiAgaWYgKGhhc0ludmFsaWRJbnB1dChpbnB1dExpc3QpKSB7XG4gICAgZGlzYWJsZUJ1dHRvbihidXR0b25FbCwgeCk7XG4gIH0gZWxzZSB7XG4gICAgYnV0dG9uRWwuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICBidXR0b25FbC5jbGFzc0xpc3QucmVtb3ZlKHguaW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBkaXNhYmxlQnV0dG9uID0gKGJ1dHRvbkVsLCB4KSA9PiB7XG4gIGJ1dHRvbkVsLmRpc2FibGVkID0gdHJ1ZTtcbiAgYnV0dG9uRWwuY2xhc3NMaXN0LmFkZCh4LmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlc2V0VmFsaWRhdGlvbiA9IChmb3JtRWwsIGlucHV0TGlzdCwgeCkgPT4ge1xuICBpbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICBoaWRlSW5wdXRFcnJvcihmb3JtRWwsIGlucHV0LCB4KTtcbiAgfSk7XG59O1xuXG5jb25zdCBzZXRFdmVudExpc3RlbmVycyA9IChmb3JtRWwsIHgpID0+IHtcbiAgY29uc3QgaW5wdXRMaXN0ID0gQXJyYXkuZnJvbShmb3JtRWwucXVlcnlTZWxlY3RvckFsbCh4LmlucHV0U2VsZWN0b3IpKTtcbiAgY29uc3QgYnV0dG9uRWwgPSBmb3JtRWwucXVlcnlTZWxlY3Rvcih4LnN1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcbiAgdG9nZ2xlQnV0dG9uU3RhdGUoaW5wdXRMaXN0LCBidXR0b25FbCwgeCk7XG4gIGlucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsKSA9PiB7XG4gICAgaW5wdXRFbC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgY2hlY2tJbnB1dFZhbGlkaXR5KGZvcm1FbCwgaW5wdXRFbCwgeCk7XG4gICAgICB0b2dnbGVCdXR0b25TdGF0ZShpbnB1dExpc3QsIGJ1dHRvbkVsLCB4KTtcbiAgICB9KTtcbiAgfSk7XG59O1xuXG5leHBvcnQgY29uc3QgZW5hYmxlVmFsaWRhdGlvbiA9ICh4KSA9PiB7XG4gIGNvbnN0IEZvcm1MaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCh4LmZvcm1TZWxlY3Rvcik7XG4gIEZvcm1MaXN0LmZvckVhY2goKGZvcm1FbCkgPT4ge1xuICAgIHNldEV2ZW50TGlzdGVuZXJzKGZvcm1FbCwgeCk7XG4gIH0pO1xufTtcblxuZW5hYmxlVmFsaWRhdGlvbihzZXR0aW5ncyk7XG4iLCJpbXBvcnQgXCIuL2luZGV4LmNzc1wiO1xuaW1wb3J0IHtcbiAgZW5hYmxlVmFsaWRhdGlvbixcbiAgc2V0dGluZ3MsXG4gIHJlc2V0VmFsaWRhdGlvbiwgZGlzYWJsZUJ1dHRvblxufSBmcm9tIFwiLi4vc2NyaXB0cy92YWxpZGF0aW9uXCI7XG5pbXBvcnQgQXBpIGZyb20gXCIuLi9zY3JpcHRzL2FwaVwiO1xuXG5jb25zdCBhcGkgPSBuZXcgQXBpKHtcbiAgYmFzZVVybDogXCJodHRwczovL2Fyb3VuZC1hcGkuZW4udHJpcGxldGVuLXNlcnZpY2VzLmNvbS92MVwiLFxuICBoZWFkZXJzOiB7XG4gICAgYXV0aG9yaXphdGlvbjogXCI3NWU5YmZjYS03OTQ3LTQ3ZWUtODVhNy0zNzA5ZWNmNDZiNzlcIixcbiAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgfSxcbn0pO1xuXG5hcGlcbiAgLmdldFNpdGVJbmZvKClcbiAgLnRoZW4oKHsgdXNlckluZm8sIGNhcmRzIH0pID0+IHtcbiAgICBwcm9maWxlTmFtZUVsLnRleHRDb250ZW50ID0gdXNlckluZm8ubmFtZTtcbiAgICBwcm9maWxlRGVzY3JpcHRpb25FbC50ZXh0Q29udGVudCA9IHVzZXJJbmZvLmFib3V0O1xuICAgIHByb2ZpbGVQaWNFbC5zcmMgPSB1c2VySW5mby5hdmF0YXI7XG4gICAgY2FyZHMuZm9yRWFjaCgoY2FyZCkgPT4ge1xuICAgICAgY29uc3QgbmV3Q2FyZEVsID0gZ2V0Q2FyZEVsZW1lbnQoY2FyZCk7XG4gICAgICBjYXJkQ29udGFpbmVyLnByZXBlbmQobmV3Q2FyZEVsKTtcbiAgICB9KTtcbiAgfSlcbiAgLmNhdGNoKGNvbnNvbGUuZXJyb3IpO1xuXG5jb25zdCBwcm9maWxlUGljRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX3BpY1wiKTtcblxuY29uc3QgcHJvZmlsZUVkaXRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2VkaXQtYnV0dG9uXCIpO1xuXG5jb25zdCBwcm9maWxlUG9zdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fcG9zdC1idXR0b25cIik7XG5cbmNvbnN0IGVkaXRQcm9maWxlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2VkaXQtcHJvZmlsZS1tb2RhbFwiKTtcblxuY29uc3QgbmV3UG9zdE1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNuZXctcG9zdC1tb2RhbFwiKTtcblxuY29uc3QgcHJvZmlsZUV4aXRCdXR0b24gPSBlZGl0UHJvZmlsZU1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2V4aXRcIik7XG5cbmNvbnN0IHBvc3RFeGl0QnV0dG9uID0gbmV3UG9zdE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2V4aXRcIik7XG5cbmNvbnN0IGVkaXRQcm9maWxlRm9ybUVsID0gZWRpdFByb2ZpbGVNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtXCIpO1xuXG5jb25zdCBlZGl0UHJvZmlsZU5hbWVJbnB1dCA9IGVkaXRQcm9maWxlTW9kYWwucXVlcnlTZWxlY3RvcihcbiAgXCIjcHJvZmlsZS1uYW1lLWlucHV0XCJcbik7XG5cbmNvbnN0IGVkaXRQcm9maWxlRGVzY3JpcHRpb25JbnB1dCA9IGVkaXRQcm9maWxlTW9kYWwucXVlcnlTZWxlY3RvcihcbiAgXCIjcHJvZmlsZS1kZXNjcmlwdGlvbi1pbnB1dFwiXG4pO1xuXG5jb25zdCBwcm9maWxlTmFtZUVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19uYW1lXCIpO1xuXG5jb25zdCBwcm9maWxlRGVzY3JpcHRpb25FbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fZGVzY3JpcHRpb25cIik7XG5cbmNvbnN0IG5ld1Bvc3RGb3JtRWwgPSBuZXdQb3N0TW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZm9ybVwiKTtcblxuY29uc3QgYWRkTGlua0lucHV0ID0gbmV3UG9zdE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIjaW1hZ2UtbGluay1pbnB1dFwiKTtcblxuY29uc3QgYWRkQ2FwdGlvbklucHV0ID0gbmV3UG9zdE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIjY2FwdGlvbi1saW5rLWlucHV0XCIpO1xuXG5jb25zdCBjYXJkVGVtcGxhdGVFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY2FyZC10ZW1wbGF0ZVwiKTtcblxuY29uc3QgY2FyZENvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZHNfX2xpc3RcIik7XG5cbmNvbnN0IG1vZGFsSW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI21vZGFsLWltYWdlXCIpO1xuXG5jb25zdCBtb2RhbEltYWdlRWwgPSBtb2RhbEltYWdlLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2ltYWdlXCIpO1xuXG5jb25zdCBpbWFnZUNhcHRpb24gPSBtb2RhbEltYWdlLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2ltYWdlLXRpdGxlXCIpO1xuXG5jb25zdCBjbG9zZU1vZGFsSW1hZ2UgPSBtb2RhbEltYWdlLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2ltYWdlLWNsb3NlXCIpO1xuXG5jb25zdCBtb2RhbFNhdmVCdXR0b24gPSBuZXdQb3N0Rm9ybUVsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Zvcm0tc2F2ZVwiKTtcblxuY29uc3QgYWxsTW9kYWxzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5tb2RhbFwiKTtcblxuY29uc3QgZGVsZXRlTW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRlbGV0ZS1tb2RhbFwiKTtcblxuY29uc3QgTW9kYWxEZWxldGVDYW5jZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNhbmNlbC1idXR0b25cIik7XG5cbmNvbnN0IE1vZGFsRGVsZXRlRm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGVsZXRlLWZvcm1cIik7XG5cbmNvbnN0IGF2YXRhck1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhdmF0YXItbW9kYWxcIik7XG5cbmNvbnN0IHByb2ZpbGVQaWNCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX3BpYy1idG5cIik7XG5cbmNvbnN0IGF2YXRhckZvcm1FbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYXZhdGFyLWZvcm1cIik7XG5cbmNvbnN0IGF2YXRhckxpbmtJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYXZhdGFyLWxpbmtcIik7XG5cbmNvbnN0IGF2YXRhck1vZGFsRXhpdCA9IGF2YXRhck1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2V4aXRcIik7XG5cbmNvbnN0IGF2YXRhckZpbGVJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYXZhdGFyLWZpbGUtaW5wdXRcIik7XG5cbmNvbnN0IGF2YXRhckZpbGVCdG4gPSBhdmF0YXJGb3JtRWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZmlsZS1idXR0b25cIik7XG5cbmNvbnN0IGF2YXRhclNhdmVCdG4gPSBhdmF0YXJGb3JtRWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZm9ybS1zYXZlXCIpO1xuXG5jb25zdCBvcGVuTW9kYWwgPSAobW9kYWwpID0+IHtcbiAgbW9kYWwuY2xhc3NMaXN0LmFkZChcIm1vZGFsX2lzLW9wZW5lZFwiKTtcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgY2xvc2VNb2RhbEVzYyk7XG59O1xuXG5jb25zdCBjbG9zZU1vZGFsID0gKG1vZGFsKSA9PiB7XG4gIG1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoXCJtb2RhbF9pcy1vcGVuZWRcIik7XG4gIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGNsb3NlTW9kYWxFc2MpO1xufTtcblxuY29uc3QgY2xvc2VNb2RhbEVzYyA9IChldmVudCkgPT4ge1xuICBpZiAoZXZlbnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XG4gICAgY29uc3Qgb3Blbk1vZGFsRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX2lzLW9wZW5lZFwiKTtcbiAgICBpZiAob3Blbk1vZGFsRWwpIGNsb3NlTW9kYWwob3Blbk1vZGFsRWwpO1xuICB9XG59O1xuXG5hbGxNb2RhbHMuZm9yRWFjaCgobW9kYWwpID0+IHtcbiAgbW9kYWwuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCAoZXZlbnQpID0+IHtcbiAgICBpZiAoZXZlbnQudGFyZ2V0ID09PSBtb2RhbCkge1xuICAgICAgY2xvc2VNb2RhbChtb2RhbCk7XG4gICAgICBjb25zdCBmb3JtID0gbW9kYWwucXVlcnlTZWxlY3RvcihcImZvcm1cIik7XG4gICAgICBpZiAoZm9ybSkgZm9ybS5yZXNldCgpO1xuICAgIH1cbiAgfSk7XG59KTtcblxuY2xvc2VNb2RhbEltYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiBjbG9zZU1vZGFsKG1vZGFsSW1hZ2UpKTtcblxubGV0IGNob3NlbkNhcmQ7XG5sZXQgY2hvc2VuQ2FyZElkO1xuY29uc3QgZ2V0Q2FyZEVsZW1lbnQgPSAoZGF0YSkgPT4ge1xuICBjb25zdCBjYXJkRWxlbWVudCA9IGNhcmRUZW1wbGF0ZUVsLmNvbnRlbnQuY2xvbmVOb2RlKHRydWUpO1xuICBjb25zdCBjYXJkUG9zdEVMID0gY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkXCIpO1xuICBjb25zdCBjYXJkVGl0bGVFbCA9IGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fdGl0bGVcIik7XG4gIGNvbnN0IGNhcmRJbWFnZUVsID0gY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19pbWFnZVwiKTtcbiAgY29uc3QgY2FyZExpa2VCdXR0b24gPSBjYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2UtYnV0dG9uXCIpO1xuICBjb25zdCBjYXJkRGVsZXRlQnV0dG9uID0gY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19kZWxldGUtYnV0dG9uXCIpO1xuICBjYXJkSW1hZ2VFbC5zcmMgPSBkYXRhLmxpbms7XG4gIGNhcmRJbWFnZUVsLmFsdCA9IGRhdGEubmFtZTtcbiAgY2FyZFRpdGxlRWwudGV4dENvbnRlbnQgPSBkYXRhLm5hbWU7XG5cbiAgaWYgKGRhdGEuaXNMaWtlZCkge1xuICAgIGNhcmRMaWtlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJjYXJkX19saWtlLWJ1dHRvbl9pcy1hY3RpdmVcIik7XG4gIH0gZWxzZSB7XG4gICAgY2FyZExpa2VCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcImNhcmRfX2xpa2UtYnV0dG9uX2lzLWFjdGl2ZVwiKTtcbiAgfVxuXG4gIGNhcmRMaWtlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgaWYgKGNhcmRMaWtlQnV0dG9uLmNsYXNzTGlzdC5jb250YWlucyhcImNhcmRfX2xpa2UtYnV0dG9uX2lzLWFjdGl2ZVwiKSkge1xuICAgICAgYXBpXG4gICAgICAgIC5yZW1vdmVMaWtlKGRhdGEuX2lkKVxuICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgY2FyZExpa2VCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcImNhcmRfX2xpa2UtYnV0dG9uX2lzLWFjdGl2ZVwiKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKGNvbnNvbGUuZXJyb3IpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhcGlcbiAgICAgICAgLmFkZExpa2UoZGF0YS5faWQpXG4gICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICBjYXJkTGlrZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiY2FyZF9fbGlrZS1idXR0b25faXMtYWN0aXZlXCIpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goY29uc29sZS5lcnJvcik7XG4gICAgfVxuICB9KTtcblxuICBjYXJkRGVsZXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgY2hvc2VuQ2FyZCA9IGNhcmRQb3N0RUw7XG4gICAgY2hvc2VuQ2FyZElkID0gZGF0YS5faWQ7XG4gICAgb3Blbk1vZGFsKGRlbGV0ZU1vZGFsKTtcbiAgfSk7XG5cbiAgY29uc3QgaGFuZGxlRGVsZXRlU3VibWl0ID0gKGV2dCkgPT4ge1xuICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGFwaVxuICAgICAgLmRlbGV0ZUNhcmQoY2hvc2VuQ2FyZElkKVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICBjaG9zZW5DYXJkLnJlbW92ZSgpO1xuICAgICAgICBjbG9zZU1vZGFsKGRlbGV0ZU1vZGFsKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goY29uc29sZS5lcnJvcik7XG4gIH07XG5cbiAgTW9kYWxEZWxldGVGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgaGFuZGxlRGVsZXRlU3VibWl0KTtcbiAgTW9kYWxEZWxldGVDYW5jZWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IGNsb3NlTW9kYWwoZGVsZXRlTW9kYWwpKTtcblxuICBjYXJkSW1hZ2VFbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgIG1vZGFsSW1hZ2VFbC5zcmMgPSBkYXRhLmxpbms7XG4gICAgbW9kYWxJbWFnZUVsLmFsdCA9IGRhdGEubmFtZTtcbiAgICBpbWFnZUNhcHRpb24udGV4dENvbnRlbnQgPSBkYXRhLm5hbWU7XG4gICAgb3Blbk1vZGFsKG1vZGFsSW1hZ2UpO1xuICB9KTtcblxuICByZXR1cm4gY2FyZEVsZW1lbnQ7XG59O1xuXG5wcm9maWxlRWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICByZXNldFZhbGlkYXRpb24oXG4gICAgZWRpdFByb2ZpbGVGb3JtRWwsXG4gICAgW2VkaXRQcm9maWxlTmFtZUlucHV0LCBlZGl0UHJvZmlsZURlc2NyaXB0aW9uSW5wdXRdLFxuICAgIHNldHRpbmdzXG4gICk7XG4gIG9wZW5Nb2RhbChlZGl0UHJvZmlsZU1vZGFsKTtcbiAgZWRpdFByb2ZpbGVOYW1lSW5wdXQudmFsdWUgPSBwcm9maWxlTmFtZUVsLnRleHRDb250ZW50O1xuICBlZGl0UHJvZmlsZURlc2NyaXB0aW9uSW5wdXQudmFsdWUgPSBwcm9maWxlRGVzY3JpcHRpb25FbC50ZXh0Q29udGVudDtcbn0pO1xuXG5wcm9maWxlUG9zdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBvcGVuTW9kYWwobmV3UG9zdE1vZGFsKTtcbiAgcmVzZXRWYWxpZGF0aW9uKG5ld1Bvc3RGb3JtRWwsIFthZGRDYXB0aW9uSW5wdXQsIGFkZExpbmtJbnB1dF0sIHNldHRpbmdzKTtcbn0pO1xuXG5wcm9maWxlRXhpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBjbG9zZU1vZGFsKGVkaXRQcm9maWxlTW9kYWwpO1xuICBlZGl0UHJvZmlsZUZvcm1FbC5yZXNldCgpO1xufSk7XG5cbnBvc3RFeGl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIGNsb3NlTW9kYWwobmV3UG9zdE1vZGFsKTtcbiAgbmV3UG9zdEZvcm1FbC5yZXNldCgpO1xufSk7XG5cbnByb2ZpbGVQaWNCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgb3Blbk1vZGFsKGF2YXRhck1vZGFsKTtcbiAgcmVzZXRWYWxpZGF0aW9uKGF2YXRhckZvcm1FbCwgW2F2YXRhckxpbmtJbnB1dF0sIHNldHRpbmdzKTtcbn0pO1xuXG5hdmF0YXJNb2RhbEV4aXQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgY2xvc2VNb2RhbChhdmF0YXJNb2RhbCk7XG4gIGF2YXRhckZvcm1FbC5yZXNldCgpO1xufSk7XG5cbmF2YXRhckZpbGVCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgYXZhdGFyRmlsZUlucHV0LmNsaWNrKCk7XG59KTtcblxuY29uc3QgaGFuZGxlQXZhdGFyRm9ybVN1Ym1pdCA9IChldnQpID0+IHtcbiAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gIGF2YXRhclNhdmVCdG4uZGlzYWJsZWQgPSB0cnVlO1xuICBjb25zdCBmaWxlID0gYXZhdGFyRmlsZUlucHV0LmZpbGVzWzBdO1xuICBjb25zdCBhdmF0YXIgPSBhdmF0YXJMaW5rSW5wdXQudmFsdWU7XG4gIGlmIChmaWxlKSB7XG4gICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICByZWFkZXIub25sb2FkID0gKCkgPT4ge1xuICAgICAgY29uc3QgYmFzZTY0SW1hZ2UgPSByZWFkZXIucmVzdWx0O1xuICAgICAgYXBpXG4gICAgICAgIC5lZGl0VXNlckF2YXRhcih7IGF2YXRhcjogYmFzZTY0SW1hZ2UgfSlcbiAgICAgICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgICAgICBwcm9maWxlUGljRWwuc3JjID0gZGF0YS5hdmF0YXI7XG4gICAgICAgICAgY2xvc2VNb2RhbChhdmF0YXJNb2RhbCk7XG4gICAgICAgICAgYXZhdGFyRm9ybUVsLnJlc2V0KCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaChjb25zb2xlLmVycm9yKTtcbiAgICB9O1xuICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpO1xuICB9IGVsc2UgaWYgKGF2YXRhcikge1xuICAgIGFwaVxuICAgICAgLmVkaXRVc2VyQXZhdGFyKHsgYXZhdGFyIH0pXG4gICAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgICBwcm9maWxlUGljRWwuc3JjID0gZGF0YS5hdmF0YXI7XG4gICAgICAgIGNsb3NlTW9kYWwoYXZhdGFyTW9kYWwpO1xuICAgICAgICBhdmF0YXJGb3JtRWwucmVzZXQoKTtcbiAgICAgICAgYXZhdGFyU2F2ZUJ0bi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaChjb25zb2xlLmVycm9yKTtcbiAgfVxufTtcblxuYXZhdGFyRm9ybUVsLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgaGFuZGxlQXZhdGFyRm9ybVN1Ym1pdCk7XG5cbmNvbnN0IGhhbmRsZVByb2ZpbGVGb3JtU3VibWl0ID0gKGV2dCkgPT4ge1xuICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgY29uc3QgbmFtZSA9IGVkaXRQcm9maWxlTmFtZUlucHV0LnZhbHVlO1xuICBjb25zdCBhYm91dCA9IGVkaXRQcm9maWxlRGVzY3JpcHRpb25JbnB1dC52YWx1ZTtcblxuICBhcGlcbiAgICAuZWRpdFVzZXJJbmZvKHsgbmFtZSwgYWJvdXQgfSlcbiAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgcHJvZmlsZU5hbWVFbC50ZXh0Q29udGVudCA9IGRhdGEubmFtZTtcbiAgICAgIHByb2ZpbGVEZXNjcmlwdGlvbkVsLnRleHRDb250ZW50ID0gZGF0YS5hYm91dDtcbiAgICAgIGNsb3NlTW9kYWwoZWRpdFByb2ZpbGVNb2RhbCk7XG4gICAgICBlZGl0UHJvZmlsZUZvcm1FbC5yZXNldCgpO1xuICAgIH0pXG4gICAgLmNhdGNoKGNvbnNvbGUuZXJyb3IpO1xufTtcblxuZWRpdFByb2ZpbGVGb3JtRWwuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBoYW5kbGVQcm9maWxlRm9ybVN1Ym1pdCk7XG5cbmNvbnN0IGhhbmRsZU5ld1Bvc3RGb3JtU3VibWl0ID0gKGV2dCkgPT4ge1xuICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgY29uc3QgbmFtZSA9IGFkZENhcHRpb25JbnB1dC52YWx1ZTtcbiAgY29uc3QgbGluayA9IGFkZExpbmtJbnB1dC52YWx1ZTtcbiAgYXBpXG4gICAgLmNyZWF0ZUNhcmQoeyBuYW1lLCBsaW5rIH0pXG4gICAgLnRoZW4oKG5ld0NhcmQpID0+IHtcbiAgICAgIGNvbnN0IG5ld0NhcmRFbCA9IGdldENhcmRFbGVtZW50KG5ld0NhcmQpO1xuICAgICAgY2FyZENvbnRhaW5lci5wcmVwZW5kKG5ld0NhcmRFbCk7XG4gICAgICBuZXdQb3N0Rm9ybUVsLnJlc2V0KCk7XG4gICAgICBkaXNhYmxlQnV0dG9uKG1vZGFsU2F2ZUJ1dHRvbiwgc2V0dGluZ3MpO1xuICAgICAgY2xvc2VNb2RhbChuZXdQb3N0TW9kYWwpO1xuICAgIH0pXG4gICAgLmNhdGNoKGNvbnNvbGUuZXJyb3IpO1xufTtcblxubmV3UG9zdEZvcm1FbC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIGhhbmRsZU5ld1Bvc3RGb3JtU3VibWl0KTtcblxuZW5hYmxlVmFsaWRhdGlvbihzZXR0aW5ncyk7XG4iLCJjbGFzcyBBcGkge1xuICBjb25zdHJ1Y3Rvcih7IGJhc2VVcmwsIGhlYWRlcnMgfSkge1xuICAgIHRoaXMuX2Jhc2VVcmwgPSBiYXNlVXJsO1xuICAgIHRoaXMuX2hlYWRlcnMgPSBoZWFkZXJzO1xuICB9XG5cbiAgZ2V0VXNlckluZm8oKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KVxuICAgICAgLnRoZW4odGhpcy5faGFuZGxlU2VydmVyUmVzcG9uc2UpXG4gICAgICAuY2F0Y2goY29uc29sZS5lcnJvcik7XG4gIH1cblxuICBnZXRJbml0aWFsQ2FyZHMoKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KVxuICAgICAgLnRoZW4odGhpcy5faGFuZGxlU2VydmVyUmVzcG9uc2UpXG4gICAgICAuY2F0Y2goY29uc29sZS5lcnJvcik7XG4gIH1cblxuICBnZXRTaXRlSW5mbygpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwoW3RoaXMuZ2V0SW5pdGlhbENhcmRzKCksIHRoaXMuZ2V0VXNlckluZm8oKV0pXG4gICAgICAudGhlbihmdW5jdGlvbiAoW2NhcmRzLCB1c2VySW5mb10pIHtcbiAgICAgICAgcmV0dXJuIHsgdXNlckluZm8sIGNhcmRzIH07XG4gICAgICB9KVxuICAgICAgLmNhdGNoKGNvbnNvbGUuZXJyb3IpO1xuICB9XG5cbiAgYWRkTGlrZShjYXJkSWQpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtjYXJkSWR9L2xpa2VzYCAse1xuICAgICAgbWV0aG9kOiBcIlBVVFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KVxuICAgIC50aGVuKHRoaXMuX2hhbmRsZVNlcnZlclJlc3BvbnNlKVxuICAgIC5jYXRjaChjb25zb2xlLmVycm9yKTtcbiAgfVxuXG4gIHJlbW92ZUxpa2UoY2FyZElkKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7Y2FyZElkfS9saWtlc2Ase1xuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KVxuICAgIC50aGVuKHRoaXMuX2hhbmRsZVNlcnZlclJlc3BvbnNlKVxuICAgIC5jYXRjaChjb25zb2xlLmVycm9yKTtcbiAgfVxuXG5cbiAgZWRpdFVzZXJJbmZvKHsgbmFtZSwgYWJvdXQgfSkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBuYW1lLFxuICAgICAgICBhYm91dCxcbiAgICAgIH0pLFxuICAgIH0pXG4gICAgICAudGhlbih0aGlzLl9oYW5kbGVTZXJ2ZXJSZXNwb25zZSlcbiAgICAgIC5jYXRjaChjb25zb2xlLmVycm9yKTtcbiAgfVxuXG4gIGVkaXRVc2VyQXZhdGFyKHthdmF0YXJ9KSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lL2F2YXRhcmAsIHtcbiAgICBtZXRob2Q6IFwiUEFUQ0hcIixcbiAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIGF2YXRhcixcbiAgICB9KSxcbiAgICB9KVxuICAgIC50aGVuKHRoaXMuX2hhbmRsZVNlcnZlclJlc3BvbnNlKVxuICAgIC5jYXRjaChjb25zb2xlLmVycm9yKTtcbiAgfVxuXG5cbiAgY3JlYXRlQ2FyZCh7IG5hbWUsIGxpbmsgfSkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIG5hbWUsXG4gICAgICAgIGxpbmssXG4gICAgICB9KSxcbiAgICB9KVxuICAgICAgLnRoZW4odGhpcy5faGFuZGxlU2VydmVyUmVzcG9uc2UpXG4gICAgICAuY2F0Y2goY29uc29sZS5lcnJvcik7XG4gIH1cblxuICBkZWxldGVDYXJkKGNhcmRJZCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2NhcmRJZH1gLCB7XG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pXG4gICAgICAudGhlbih0aGlzLl9oYW5kbGVTZXJ2ZXJSZXNwb25zZSlcbiAgICAgIC5jYXRjaChjb25zb2xlLmVycm9yKTtcbiAgfVxuXG4gIF9oYW5kbGVTZXJ2ZXJSZXNwb25zZShyZXMpIHtcbiAgICBpZiAocmVzLm9rKSB7XG4gICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICB9XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEFwaTtcbiJdLCJuYW1lcyI6WyJzZXR0aW5ncyIsImZvcm1TZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwiaGlkZUlucHV0RXJyb3IiLCJmb3JtRWwiLCJpbnB1dEVsIiwieCIsImVycm9yTXNnRWwiLCJxdWVyeVNlbGVjdG9yIiwiaWQiLCJ0ZXh0Q29udGVudCIsImNsYXNzTGlzdCIsInJlbW92ZSIsInRvZ2dsZUJ1dHRvblN0YXRlIiwiaW5wdXRMaXN0IiwiYnV0dG9uRWwiLCJzb21lIiwidmFsaWRpdHkiLCJ2YWxpZCIsImhhc0ludmFsaWRJbnB1dCIsImRpc2FibGVCdXR0b24iLCJkaXNhYmxlZCIsImFkZCIsInJlc2V0VmFsaWRhdGlvbiIsImZvckVhY2giLCJpbnB1dCIsImVuYWJsZVZhbGlkYXRpb24iLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJzZXRFdmVudExpc3RlbmVycyIsIkFycmF5IiwiZnJvbSIsImFkZEV2ZW50TGlzdGVuZXIiLCJjaGVja0lucHV0VmFsaWRpdHkiLCJzaG93SW5wdXRFcnJvciIsImVycm9yTXNnIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJhcGkiLCJjb25zdHJ1Y3RvciIsImJhc2VVcmwiLCJoZWFkZXJzIiwidGhpcyIsIl9iYXNlVXJsIiwiX2hlYWRlcnMiLCJnZXRVc2VySW5mbyIsImZldGNoIiwidGhlbiIsIl9oYW5kbGVTZXJ2ZXJSZXNwb25zZSIsImNhdGNoIiwiY29uc29sZSIsImVycm9yIiwiZ2V0SW5pdGlhbENhcmRzIiwiZ2V0U2l0ZUluZm8iLCJQcm9taXNlIiwiYWxsIiwiY2FyZHMiLCJ1c2VySW5mbyIsImFkZExpa2UiLCJjYXJkSWQiLCJtZXRob2QiLCJyZW1vdmVMaWtlIiwiZWRpdFVzZXJJbmZvIiwibmFtZSIsImFib3V0IiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJlZGl0VXNlckF2YXRhciIsImF2YXRhciIsImNyZWF0ZUNhcmQiLCJsaW5rIiwiZGVsZXRlQ2FyZCIsInJlcyIsIm9rIiwianNvbiIsInJlamVjdCIsInN0YXR1cyIsImF1dGhvcml6YXRpb24iLCJwcm9maWxlTmFtZUVsIiwicHJvZmlsZURlc2NyaXB0aW9uRWwiLCJwcm9maWxlUGljRWwiLCJzcmMiLCJjYXJkIiwibmV3Q2FyZEVsIiwiZ2V0Q2FyZEVsZW1lbnQiLCJjYXJkQ29udGFpbmVyIiwicHJlcGVuZCIsInByb2ZpbGVFZGl0QnV0dG9uIiwicHJvZmlsZVBvc3RCdXR0b24iLCJlZGl0UHJvZmlsZU1vZGFsIiwibmV3UG9zdE1vZGFsIiwicHJvZmlsZUV4aXRCdXR0b24iLCJwb3N0RXhpdEJ1dHRvbiIsImVkaXRQcm9maWxlRm9ybUVsIiwiZWRpdFByb2ZpbGVOYW1lSW5wdXQiLCJlZGl0UHJvZmlsZURlc2NyaXB0aW9uSW5wdXQiLCJuZXdQb3N0Rm9ybUVsIiwiYWRkTGlua0lucHV0IiwiYWRkQ2FwdGlvbklucHV0IiwiY2FyZFRlbXBsYXRlRWwiLCJtb2RhbEltYWdlIiwibW9kYWxJbWFnZUVsIiwiaW1hZ2VDYXB0aW9uIiwiY2xvc2VNb2RhbEltYWdlIiwibW9kYWxTYXZlQnV0dG9uIiwiYWxsTW9kYWxzIiwiZGVsZXRlTW9kYWwiLCJnZXRFbGVtZW50QnlJZCIsIk1vZGFsRGVsZXRlQ2FuY2VsIiwiTW9kYWxEZWxldGVGb3JtIiwiYXZhdGFyTW9kYWwiLCJwcm9maWxlUGljQnRuIiwiYXZhdGFyRm9ybUVsIiwiYXZhdGFyTGlua0lucHV0IiwiYXZhdGFyTW9kYWxFeGl0IiwiYXZhdGFyRmlsZUlucHV0IiwiYXZhdGFyRmlsZUJ0biIsImF2YXRhclNhdmVCdG4iLCJvcGVuTW9kYWwiLCJtb2RhbCIsImNsb3NlTW9kYWxFc2MiLCJjbG9zZU1vZGFsIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImV2ZW50Iiwia2V5Iiwib3Blbk1vZGFsRWwiLCJjaG9zZW5DYXJkIiwiY2hvc2VuQ2FyZElkIiwidGFyZ2V0IiwiZm9ybSIsInJlc2V0IiwiZGF0YSIsImNhcmRFbGVtZW50IiwiY29udGVudCIsImNsb25lTm9kZSIsImNhcmRQb3N0RUwiLCJjYXJkVGl0bGVFbCIsImNhcmRJbWFnZUVsIiwiY2FyZExpa2VCdXR0b24iLCJjYXJkRGVsZXRlQnV0dG9uIiwiYWx0IiwiaXNMaWtlZCIsImNvbnRhaW5zIiwiX2lkIiwiZXZ0IiwicHJldmVudERlZmF1bHQiLCJ2YWx1ZSIsImNsaWNrIiwiZmlsZSIsImZpbGVzIiwicmVhZGVyIiwiRmlsZVJlYWRlciIsIm9ubG9hZCIsImJhc2U2NEltYWdlIiwicmVzdWx0IiwicmVhZEFzRGF0YVVSTCIsIm5ld0NhcmQiXSwic291cmNlUm9vdCI6IiJ9